<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>6.12 Caching Previously Computed Results &mdash; FriCAS 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="FriCAS 0.1 documentation" href="index.html" />
    <link rel="next" title="6.13 Recurrence Relations" href="section-6.13.html" />
    <link rel="prev" title="6.11 Piece-Wise Function Definitions" href="section-6.11.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="caching-previously-computed-results">
<h1>6.12 Caching Previously Computed Results<a class="headerlink" href="#caching-previously-computed-results" title="Permalink to this headline">¶</a></h1>
<p>By default, FriCAS does not save the values of any function.
function:caching values You can cause it to save values and not to
recompute unnecessarily remembering function values by using )set
functions cache. set functions cache This should be used before the
functions are defined or, at least, before they are executed. The word
following cache should be 0 to turn off caching, a positive integer n to
save the last n computed values or all to save all computed values. If
you then give a list of names of functions, the caching only affects
those functions. Use no list of names or all when you want to define the
default behavior for functions not specifically mentioned in other )set
functions cache statements. If you give no list of names, all functions
will have the caching behavior. If you explicitly turn on caching for
one or more names, you must explicitly turn off caching for those names
when you want to stop saving their values.</p>
<p>This causes the functions f and g to have the last three computed values
saved.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">)</span><span class="nb">set</span> <span class="n">functions</span> <span class="n">cache</span> <span class="mi">3</span> <span class="n">f</span> <span class="n">g</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">f</span> <span class="n">will</span> <span class="n">cache</span> <span class="n">the</span> <span class="n">last</span> <span class="mi">3</span> <span class="n">values</span><span class="o">.</span>
<span class="n">function</span> <span class="n">g</span> <span class="n">will</span> <span class="n">cache</span> <span class="n">the</span> <span class="n">last</span> <span class="mi">3</span> <span class="n">values</span><span class="o">.</span>
</pre></div>
</div>
<p>This is a sample definition for f.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="n">x</span> <span class="o">==</span> <span class="n">factorial</span><span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p><sub>Type: Void</sub></p>
<p>A message is displayed stating what f will cache.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>   <span class="n">Compiling</span> <span class="n">function</span> <span class="n">f</span> <span class="k">with</span> <span class="nb">type</span> <span class="n">PositiveInteger</span> <span class="o">-&gt;</span> <span class="n">Integer</span>
   <span class="n">f</span> <span class="n">will</span> <span class="n">cache</span> <span class="mi">3</span> <span class="n">most</span> <span class="n">recently</span> <span class="n">computed</span> <span class="n">value</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">.</span>
<span class="o">+++</span> <span class="o">|*</span><span class="mi">1</span><span class="p">;</span><span class="n">f</span><span class="p">;</span><span class="mi">1</span><span class="p">;</span><span class="n">G82322</span><span class="o">|</span> <span class="n">redefined</span>
</pre></div>
</div>
<div class="math">
\[\]</div>
<table border="1" class="docutils">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>20922789888000</td>
</tr>
</tbody>
</table>
<p><sub>Type: PositiveInteger</sub></p>
<p>This causes all other functions to have all computed values saved by
default.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">)</span><span class="nb">set</span> <span class="n">functions</span> <span class="n">cache</span> <span class="nb">all</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="n">general</span><span class="p">,</span> <span class="n">interpreter</span> <span class="n">functions</span> <span class="n">will</span> <span class="n">cache</span> <span class="nb">all</span> <span class="n">values</span><span class="o">.</span>
</pre></div>
</div>
<p>This causes all functions that have not been specifically cached in some
way to have no computed values saved.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">)</span><span class="nb">set</span> <span class="n">functions</span> <span class="n">cache</span> <span class="mi">0</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="n">general</span><span class="p">,</span> <span class="n">functions</span> <span class="n">will</span> <span class="n">cache</span> <span class="n">no</span> <span class="n">returned</span> <span class="n">values</span><span class="o">.</span>
</pre></div>
</div>
<p>We also make f and g uncached.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">)</span><span class="nb">set</span> <span class="n">functions</span> <span class="n">cache</span> <span class="mi">0</span> <span class="n">f</span> <span class="n">g</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Caching</span> <span class="k">for</span> <span class="n">function</span> <span class="n">f</span> <span class="ow">is</span> <span class="n">turned</span> <span class="n">off</span>
<span class="n">Caching</span> <span class="k">for</span> <span class="n">function</span> <span class="n">g</span> <span class="ow">is</span> <span class="n">turned</span> <span class="n">off</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">Be careful about caching functions that have side effects. Such a</div>
</div>
<p>function might destructively modify the elements of an array or issue a
draw command, for example. A function that you expect to execute every
time it is called should not be cached. Also, it is highly unlikely that
a function with no arguments should be cached.</p>
<p>You should also be careful about caching functions that depend on free
variables. See <a class="reference external" href="section-6.16.html#ugUserFreeLocal">ugUserFreeLocal</a>
for an example.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="section-6.11.html" title="previous chapter">6.11 Piece-Wise Function Definitions</a></li>
      <li>Next: <a href="section-6.13.html" title="next chapter">6.13 Recurrence Relations</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/section-6.12.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, FriCAS.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.7</a>
      
      |
      <a href="_sources/section-6.12.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>